(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1184:function(e,t,a){},1186:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(11),o=a(90),s=a(236),i=a.n(s);var l={saveUser:function(e){var t,a;t="user_key",(a=e)&&"function"!==typeof a?i.a.set(t,a):alert("\u4e0d\u652f\u6301\u6b64\u7c7b\u578b\u6570\u636e\u7684\u5b58\u50a8")},getUser:function(){return e="user_key",i.a.get(e)||"";var e},removeUser:function(){var e;e="user_key",i.a.remove(e)}},u=a(17),m=a(18),p=a(20),d=a(19),h=a(21),f=a(1189),g=a(1190),y=a(665),v=(a(75),a(26)),b=(a(99),a(49)),E=(a(113),a(9)),O=a(16),w=a.n(O),j=a(31),k=(a(156),a(39)),C=a(1188),S="set_menu_title",x="receive_user",N="error_msg",I="reset_user",_=a(479),A=a(480),P=a.n(A),T=(a(136),a(53)),U=a(315),M=a.n(U);function R(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET";return new Promise(function(n,r){("GET"===a?M.a.get(e,{params:t}):M.a.post(e,t)).then(function(e){n(e.data)}).catch(function(t){console.log(e,t),T.a.error("\u8bf7\u6c42\u51fa\u9519\u4e86")})})}var F=function(e,t){return R("/login",{username:e,password:t},"POST")},V=function(e){return R("/manage/user/"+(e._id?"update":"add"),e,"POST")},D=function(){return R("/manage/user/list")},W=function(e){return R("/manage/user/delete",{userId:e},"POST")},L=function(e){return R("/manage/category/list",{parentId:e})},K=function(e,t){return R("/manage/category/add",{parentId:e,categoryName:t},"POST")},z=function(e){return R("/manage/category/update",{categoryId:e.categoryId,categoryName:e.categoryName},"POST")},B=function(e){return R("/manage/category/info",{categoryId:e})},J=function(e,t){return R("/manage/product/list",{pageNum:e,pageSize:t})},G=function(e){var t=e.pageNum,a=e.pageSize,n=e.searchType,r=e.searchName;return R("/manage/product/search",Object(_.a)({pageNum:t,pageSize:a},n,r))},Q=function(e){return R("/manage/img/delete",{name:e},"POST")},H=function(e){return R("/manage/product/"+(e._id?"update":"add"),e,"POST")},q=function(e,t){return R("/manage/product/updateStatus",{productId:e,status:t},"POST")},X=function(e){return R("/manage/role/add",{roleName:e},"POST")},Y=function(){return R("/manage/role/list")},Z=function(e){return R("/manage/role/update",e,"POST")};function $(e){return new Promise(function(t,a){var n="http://api.map.baidu.com/telematics/v3/weather?location=".concat(e,"&output=json&ak=3p49MVra6urFRGOT9s8UBWr2");P()(n,{param:"callback"},function(e,a){if(console.log("callback",e,a),e)alert("\u8bf7\u6c42\u5929\u6c14\u63a5\u53e3\u51fa\u9519\u5566!!!");else{var n=a.results[0].weather_data[0],r=n.dayPictureUrl,c=n.weather;t({dayPictureUrl:r,weather:c})}})})}var ee=function(e){return{type:x,data:e}},te=function(e){return{type:N,data:e}},ae=a(223),ne=a.n(ae),re=(a(595),k.a.Item),ce=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).login=function(){var e=Object(j.a)(w.a.mark(function e(t,n){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.props.login(t,n);case 1:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.user;return e._id?r.a.createElement(C.a,{to:"/home"}):r.a.createElement("div",{className:"login"},r.a.createElement("div",{className:"login-header"},r.a.createElement("img",{src:ne.a,alt:"logo"}),"React\u9879\u76ee: \u540e\u53f0\u7ba1\u7406\u7cfb\u7edf"),r.a.createElement("div",{className:"login-content"},r.a.createElement("div",{className:"login-box"},r.a.createElement("div",{className:"error-msg-wrap"},r.a.createElement("div",{className:e.msg?"show":""},e.msg)),r.a.createElement("div",{className:"title"},"\u7528\u6237\u767b\u9646"),r.a.createElement(se,{login:this.login}))))}}]),t}(n.Component),oe=Object(o.b)(function(e){return{user:e.user}},{login:function(e,t){return function(){var a=Object(j.a)(w.a.mark(function a(n){var r,c,o;return w.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,F(e,t);case 2:0===(r=a.sent).status?(c=r.data,l.saveUser(c),n(ee(c))):(o=r.msg,n(te(o)));case 4:case"end":return a.stop()}},a,this)}));return function(e){return a.apply(this,arguments)}}()}})(ce),se=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).clickLogin=function(){a.props.form.validateFields(function(){var e=Object(j.a)(w.a.mark(function e(t,n){var r,c;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:console.log("validateFields",t,n),t||(console.log("\u6536\u96c6\u8868\u5355\u6570\u636e",n),r=n.username,c=n.password,a.props.login(r,c));case 2:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}())},a.checkPassword=function(e,t,a){console.log("checkPassword()",e,t),t?t.length<4||t.length>8?a("\u5bc6\u7801\u5fc5\u987b\u662f4\u52308\u4f4d"):a():a("\u5fc5\u987b\u8f93\u5165\u5bc6\u7801")},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return r.a.createElement(k.a,{className:"login-form"},r.a.createElement(re,null,e("username",{initialValue:"admin",rules:[{type:"string",required:!0,message:"\u5fc5\u987b\u8f93\u5165\u7528\u6237\u540d"},{min:4,message:"\u957f\u5ea6\u4e0d\u80fd\u5c11\u4e8e4\u4f4d"}]})(r.a.createElement(b.a,{placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u540d",prefix:r.a.createElement(E.a,{type:"user"})}))),r.a.createElement(k.a.Item,null,e("password",{rules:[{validator:this.checkPassword}]})(r.a.createElement(b.a,{type:"password",placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801",prefix:r.a.createElement(E.a,{type:"lock"})}))),r.a.createElement(k.a.Item,null,r.a.createElement(v.a,{type:"primary",className:"login-form-button",onClick:this.clickLogin},"\u767b\u5f55")))}}]),t}(r.a.Component);se=k.a.create()(se);a(346);var ie=a(74),le=(a(347),a(50)),ue=(a(651),a(134)),me=a(1191),pe=a(1192),de=[{title:"\u9996\u9875",key:"/home",icon:"home",isPublic:!0},{title:"\u5546\u54c1",key:"/products",icon:"appstore",children:[{title:"\u54c1\u7c7b\u7ba1\u7406",key:"/category",icon:"bars"},{title:"\u5546\u54c1\u7ba1\u7406",key:"/product",icon:"tool"}]},{title:"\u7528\u6237\u7ba1\u7406",key:"/user",icon:"user"},{title:"\u89d2\u8272\u7ba1\u7406",key:"/role",icon:"safety"},{title:"\u8ba2\u5355\u7ba1\u7406",key:"/order",icon:"safety"},{title:"\u56fe\u5f62\u56fe\u8868",key:"/charts",icon:"area-chart",children:[{title:"\u67f1\u5f62\u56fe",key:"/charts/bar",icon:"bar-chart"},{title:"\u6298\u7ebf\u56fe",key:"/charts/line",icon:"line-chart"},{title:"\u997c\u56fe",key:"/charts/pie",icon:"pie-chart"}]}],he=(a(656),ue.a.SubMenu),fe=ue.a.Item,ge=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).hasAuth=function(e){var t=e.key,n=a.menuSet;return!(!e.isPublic&&"admin"!==a.props.user.username&&!n.has(t))||(e.children?!!e.children.find(function(e){return n.has(e.key)}):void 0)},a.clickLink=function(e){a.props.setMenuTitle(e.title),a.selectKey=e.key},a.getNodes=function(e){var t=a.props.location.pathname;return e.reduce(function(e,n){if(a.hasAuth(n))if(n.children){var c=r.a.createElement(he,{key:n.key,title:r.a.createElement("span",null,r.a.createElement(E.a,{type:n.icon}),r.a.createElement("span",null,n.title))},a.getNodes(n.children));e.push(c);var o=n.children.find(function(e){return 0===t.indexOf(e.key)});console.log("cItem",o),o&&(a.openKey=n.key,a.selectKey=o.key)}else{var s=r.a.createElement(fe,{key:n.key},r.a.createElement(me.a,{to:n.key,onClick:function(){return a.clickLink(n)}},r.a.createElement(E.a,{type:n.icon})," ",n.title));e.push(s),t!==n.key&&0!==t.indexOf(n.key)||a.props.setMenuTitle(n.title)}return e},[])},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentWillMount",value:function(){this.menuSet=new Set(this.props.user.role.menus),this.menuNodes=this.getNodes(de),console.log(this.menuNodes)}},{key:"render",value:function(){var e=this.selectKey||this.props.location.pathname;return console.log("path",e),r.a.createElement("div",{className:"left-nav"},r.a.createElement(me.a,{to:"/home",className:"logo"},r.a.createElement("img",{src:ne.a,alt:"logo"}),r.a.createElement("h1",null,"\u7845\u8c37\u540e\u53f0")),r.a.createElement(ue.a,{mode:"inline",theme:"dark",selectedKeys:[e],defaultOpenKeys:[this.openKey]},this.menuNodes))}}]),t}(n.Component),ye=Object(o.b)(function(e){return{user:e.user}},{setMenuTitle:function(e){return{type:S,data:e}}})(Object(pe.a)(ge)),ve=(a(163),a(66));function be(e){if(!e)return"";var t=new Date(e);return t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()+" "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()}var Ee=function e(){Object(u.a)(this,e)};Ee.user={};a(668);var Oe=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={sysTime:be(Date.now()),dayPictureUrl:"",weather:""},a.getWeather=Object(j.a)(w.a.mark(function e(){var t,n,r;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$("\u5317\u4eac");case 2:t=e.sent,n=t.dayPictureUrl,r=t.weather,a.setState({dayPictureUrl:n,weather:r});case 6:case"end":return e.stop()}},e,this)})),a.getSysTime=function(){a.intervalId=setInterval(function(){a.setState({sysTime:be(Date.now())})},1e3)},a.logout=function(){ve.a.confirm({content:"\u786e\u5b9a\u9000\u51fa\u5417?",onOk:function(){console.log("OK"),a.props.logout()},onCancel:function(){console.log("Cancel")}})},a.getTitle=function(e){var t;return de.forEach(function(a){a.key===e?t=a.title:a.children&&a.children.forEach(function(a){0===e.indexOf(a.key)&&(t=a.title)})}),t},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.getSysTime(),this.getWeather()}},{key:"componentWillUnmount",value:function(){clearInterval(this.intervalId)}},{key:"render",value:function(){var e=this.state,t=e.sysTime,a=e.dayPictureUrl,n=e.weather,c=Ee.user;return r.a.createElement("div",{className:"header"},r.a.createElement(ie.a,{className:"header-top"},r.a.createElement("span",null,"\u6b22\u8fce\uff0c",c.username),r.a.createElement("a",{href:"javascript:",onClick:this.logout},"\u9000\u51fa")),r.a.createElement(ie.a,{className:"breadcrumb"},r.a.createElement(le.a,{span:4,className:"breadcrumb-title"},this.props.title),r.a.createElement(le.a,{span:20,className:"weather"},r.a.createElement("span",{className:"date"},t),r.a.createElement("span",{className:"weather-img"},r.a.createElement("img",{src:a,alt:"weather"})),r.a.createElement("span",{className:"weather-detail"},n))))}}]),t}(n.Component),we=Object(o.b)(function(e){return{title:e.menuTitle}},{logout:function(){return l.removeUser(),{type:I}}})(Object(pe.a)(Oe));a(670);function je(e){return r.a.createElement("div",{className:"footer"},"\u63a8\u8350\u4f7f\u7528\u8c37\u6b4c\u6d4f\u89c8\u5668\uff0c\u53ef\u4ee5\u83b7\u5f97\u66f4\u4f73\u9875\u9762\u64cd\u4f5c\u4f53\u9a8c")}a(672);var ke=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"home-wrap"},"\u6b22\u8fce\u4f7f\u7528\u7845\u8c37\u540e\u53f0\u7ba1\u7406\u7cfb\u7edf")}}]),t}(n.Component),Ce=(a(221),a(106)),Se=(a(132),a(57)),xe=(a(164),a(59)),Ne=k.a.Item,Ie=xe.a.Option,_e=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={parentId:"0",parentName:"",categorys:[],subCategorys:[],isShowAdd:!1,isShowUpdate:!1},a.getCategorys=function(){var e=Object(j.a)(w.a.mark(function e(t){var n,r,c;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t||a.state.parentId,console.log("getCategorys()",n),e.next=4,L(n);case 4:0===(r=e.sent).status&&(c=r.data,"0"===n?a.setState({categorys:c}):a.setState({subCategorys:c}));case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.addCategory=Object(j.a)(w.a.mark(function e(){var t,n,r;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({isShowAdd:!1}),t=a.form.getFieldsValue(),n=t.parentId,r=t.categoryName,a.form.resetFields(),e.next=5,K(n,r);case 5:0===e.sent.status&&(T.a.success("\u6dfb\u52a0\u6210\u529f"),n!==a.state.parentId&&"0"!==n||a.getCategorys(n));case 7:case"end":return e.stop()}},e,this)})),a.showUpdate=function(e){a.category=e,a.setState({isShowUpdate:!0})},a.updateCategory=Object(j.a)(w.a.mark(function e(){var t,n;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({isShowUpdate:!1}),t=a.category._id,n=a.form.getFieldValue("categoryName"),a.form.resetFields(),e.next=6,z({categoryId:t,categoryName:n});case 6:0===e.sent.status&&(T.a.success("\u66f4\u65b0\u5206\u7c7b\u6210\u529f!!!"),a.getCategorys());case 8:case"end":return e.stop()}},e,this)})),a.showSubCategorys=function(e){a.setState({parentId:e._id,parentName:e.name},function(){a.getCategorys()})},a.showCategorys=function(){a.setState({parentId:"0",parentName:"",subCategorys:[]})},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.getCategorys()}},{key:"componentWillMount",value:function(){var e=this;this.columns=[{title:"\u5206\u7c7b\u540d\u79f0",dataIndex:"name"},{title:"\u64cd\u4f5c",width:300,render:function(t){return r.a.createElement("span",null,r.a.createElement("a",{href:"javascript:",onClick:function(){return e.showUpdate(t)}},"\u4fee\u6539\u5206\u7c7b"),"\xa0\xa0\xa0",r.a.createElement("a",{href:"javascript:",onClick:function(){return e.showSubCategorys(t)}},"\u67e5\u770b\u5b50\u5206\u7c7b"))}}]}},{key:"render",value:function(){var e=this,t=this.columns,a=this.state,n=a.categorys,c=a.subCategorys,o=a.parentId,s=a.parentName,i=a.isShowAdd,l=a.isShowUpdate,u=this.category||{};return r.a.createElement("div",null,r.a.createElement(Se.a,null,"0"===o?r.a.createElement("span",{style:{fontSize:15}},"\u4e00\u7ea7\u5206\u7c7b\u5217\u8868"):r.a.createElement("span",null,r.a.createElement("a",{href:"javascript:",onClick:this.showCategorys},"\u4e00\u7ea7\u5206\u7c7b222"),"\xa0\xa0\xa0",r.a.createElement(E.a,{type:"arrow-right"}),"\xa0\xa0\xa0",r.a.createElement("span",null,s)),r.a.createElement(v.a,{type:"primary",style:{float:"right"},onClick:function(){return e.setState({isShowAdd:!0})}},r.a.createElement(E.a,{type:"plus"}),"\u6dfb\u52a0\u5206\u7c7b")),r.a.createElement(Ce.a,{bordered:!0,rowKey:"_id",columns:t,dataSource:"0"===o?n:c,loading:0===n.length,pagination:{defaultPageSize:10,showSizeChanger:!0,showQuickJumper:!0}}),r.a.createElement(ve.a,{title:"\u66f4\u65b0\u5206\u7c7b",visible:l,onOk:this.updateCategory,onCancel:function(){return e.setState({isShowUpdate:!1})}},r.a.createElement(Ae,{categoryName:u.name,setForm:function(t){return e.form=t}})),r.a.createElement(ve.a,{title:"\u6dfb\u52a0\u5206\u7c7b",visible:i,onOk:this.addCategory,onCancel:function(){return e.setState({isShowAdd:!1})}},r.a.createElement(Pe,{categorys:n,parentId:o,setForm:function(t){return e.form=t}})))}}]),t}(n.Component),Ae=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentWillMount",value:function(){this.props.setForm(this.props.form)}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.props.categoryName;return r.a.createElement(k.a,null,r.a.createElement(Ne,null,e("categoryName",{initialValue:t})(r.a.createElement(b.a,{placeholder:"\u8bf7\u8f93\u5165\u5206\u7c7b\u540d\u79f0"}))))}}]),t}(n.Component);Ae=k.a.create()(Ae);var Pe=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentWillMount",value:function(){this.props.setForm(this.props.form)}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.props,a=t.categorys,n=t.parentId;return r.a.createElement(k.a,null,r.a.createElement(Ne,{label:"\u6240\u5c5e\u5206\u7c7b"},e("parentId",{initialValue:n})(r.a.createElement(xe.a,null,r.a.createElement(Ie,{key:"0",value:"0"},"\u4e00\u7ea7\u5206\u7c7b"),a.map(function(e){return r.a.createElement(Ie,{key:e._id,value:e._id},e.name)})))),r.a.createElement(Ne,{label:"\u5206\u7c7b\u540d\u79f0"},e("categoryName",{initialValue:""})(r.a.createElement(b.a,{placeholder:"\u8bf7\u8f93\u5165\u5206\u7c7b\u540d\u79f0"}))))}}]),t}(n.Component);Pe=k.a.create()(Pe);var Te=xe.a.Option,Ue=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).state={total:0,products:[],searchType:"productName",searchName:""},a.updateProductStatus=function(){var e=Object(j.a)(w.a.mark(function e(t,n){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q(t,n);case 2:0===e.sent.status&&(T.a.success("\u66f4\u65b0\u72b6\u6001\u6210\u529f!"),a.getProducts(a.pageNum||1));case 4:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),a.initColumns=function(){a.columns=[{title:"\u5546\u54c1\u540d\u79f0",dataIndex:"name"},{title:"\u5546\u54c1\u63cf\u8ff0",dataIndex:"desc"},{title:"\u4ef7\u683c",dataIndex:"price",render:function(e){return r.a.createElement("span",null,"\xa5",e)}},{title:"\u72b6\u6001",dataIndex:"status",render:function(e,t){var n="\u4e0b\u67b6",c="\u5728\u552e";return 2===e&&(n="\u4e0a\u67b6",c="\u5df2\u4e0b\u67b6"),e=1===e?2:1,r.a.createElement("span",null,r.a.createElement(v.a,{type:"primary",onClick:function(){return a.updateProductStatus(t._id,e)}},n),"\xa0\xa0",r.a.createElement("span",null,c))}},{title:"\u64cd\u4f5c",render:function(e){return r.a.createElement("span",null,r.a.createElement("a",{href:"javascript:",onClick:function(){return a.props.history.push("/product/detail",e)}},"\u8be6\u60c5"),"\xa0\xa0\xa0",r.a.createElement("a",{href:"javascript:",onClick:function(){return a.props.history.push("/product/addupdate",e)}},"\u4fee\u6539"))}}]},a.getProducts=function(){var e=Object(j.a)(w.a.mark(function e(t){var n,r,c,o,s,i,l;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a.pageNum=t,n=a.state,r=n.searchType,!(c=n.searchName)){e.next=8;break}return e.next=5,G({pageNum:t,pageSize:3,searchType:r,searchName:c});case 5:o=e.sent,e.next=11;break;case 8:return e.next=10,J(t,3);case 10:o=e.sent;case 11:console.log("getProducts()",o),0===o.status&&(s=o.data,i=s.total,l=s.list,a.setState({total:i,products:l}));case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentWillMount",value:function(){this.initColumns()}},{key:"componentDidMount",value:function(){this.getProducts(1)}},{key:"render",value:function(){var e=this,t=this.state,a=t.products,n=t.total,c=t.searchType;return r.a.createElement("div",null,r.a.createElement(Se.a,null,r.a.createElement(xe.a,{value:c,onChange:function(t){return e.setState({searchType:t})}},r.a.createElement(Te,{key:"productName",value:"productName"},"\u6309\u540d\u79f0\u641c\u7d22"),r.a.createElement(Te,{key:"productDesc",value:"productDesc"},"\u6309\u63cf\u8ff0\u641c\u7d22")),r.a.createElement(b.a,{style:{width:150,marginLeft:10,marginRight:10},placeholder:"\u5173\u952e\u5b57",onChange:function(t){return e.setState({searchName:t.target.value})}}),r.a.createElement(v.a,{type:"primary",onClick:function(){return e.getProducts(1)}},"\u641c\u7d22"),r.a.createElement(v.a,{type:"primary",style:{float:"right"},onClick:function(){return e.props.history.push("/product/addupdate")}},r.a.createElement(E.a,{type:"plus"}),"\u6dfb\u52a0\u5546\u54c122")),r.a.createElement(Ce.a,{bordered:!0,rowKey:"_id",columns:this.columns,dataSource:a,pagination:{defaultPageSize:3,total:n,showQuickJumper:!0,onChange:this.getProducts}}))}}]),t}(n.Component),Me=(a(1187),a(499)),Re=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={previewVisible:!1,previewImage:"",fileList:[]},a.getImgs=function(){return a.state.fileList.map(function(e){return e.name})},a.handleCancel=function(){return a.setState({previewVisible:!1})},a.handlePreview=function(e){a.setState({previewImage:e.url||e.thumbUrl,previewVisible:!0})},a.handleChange=function(){var e=Object(j.a)(w.a.mark(function e(t){var n,r,c,o,s,i;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.file,r=t.fileList,console.log("handleChange()",n,r),"done"!==n.status){e.next=7;break}0===(c=n.response).status?(T.a.success("\u4e0a\u4f20\u6210\u529f\u4e86"),o=c.data,s=o.name,i=o.url,(n=r[r.length-1]).name=s,n.url=i):T.a.error("\u4e0a\u4f20\u5931\u8d25\u4e86"),e.next=12;break;case 7:if("removed"!==n.status){e.next=12;break}return e.next=10,Q(n.name);case 10:0===e.sent.status?T.a.success("\u5220\u9664\u56fe\u7247\u6210\u529f"):T.a.error("\u5220\u9664\u56fe\u7247\u5931\u8d25");case 12:a.setState({fileList:r});case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentWillMount",value:function(){var e=this.props.imgs;if(e&&e.length>0){var t=e.map(function(e,t){return{uid:-t,name:e,status:"done",url:"http://localhost:5000/upload/"+e}});this.state.fileList=t}}},{key:"render",value:function(){var e=this.state,t=e.previewVisible,a=e.previewImage,n=e.fileList,c=r.a.createElement("div",null,r.a.createElement(E.a,{type:"plus"}),r.a.createElement("div",{className:"ant-upload-text"},"Upload"));return r.a.createElement("div",{className:"clearfix"},r.a.createElement(Me.a,{action:"/manage/img/upload",accept:"image/*",name:"image",listType:"picture-card",fileList:n,onPreview:this.handlePreview,onChange:this.handleChange},n.length>=4?null:c),r.a.createElement(ve.a,{visible:t,footer:null,onCancel:this.handleCancel},r.a.createElement("img",{alt:"example",style:{width:"100%"},src:a})))}}]),t}(r.a.Component),Fe=a(492),Ve=a(133),De=a(493),We=a.n(De),Le=a(494),Ke=a.n(Le),ze=(a(868),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={editorState:Ve.EditorState.createEmpty()},a.onEditorStateChange=function(e){a.setState({editorState:e})},a.getContent=function(){return We()(Object(Ve.convertToRaw)(a.state.editorState.getCurrentContent()))},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentWillMount",value:function(){var e=this.props.detail;if(e){var t=Ke()(e),a=t.contentBlocks,n=t.entityMap,r=Ve.ContentState.createFromBlockArray(a,n),c=Ve.EditorState.createWithContent(r);this.state.editorState=c}}},{key:"render",value:function(){var e=this.state.editorState;return r.a.createElement("div",null,r.a.createElement(Fe.Editor,{editorState:e,wrapperClassName:"demo-wrapper",editorClassName:"demo-editor",onEditorStateChange:this.onEditorStateChange}))}}]),t}(n.Component)),Be=k.a.Item,Je=xe.a.Option,Ge=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).state={categorys:[],subCategorys:[]},a.getCategorys=function(){var e=Object(j.a)(w.a.mark(function e(t){var n,r;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(t);case 2:n=e.sent,r=n.data,"0"===t?a.setState({categorys:r}):a.setState({subCategorys:r},function(){r.length>0&&a.props.form.setFieldsValue({category2:r[0]._id})});case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.renderOptions=function(){var e=a.state,t=e.categorys,n=e.subCategorys;return{options:t.map(function(e){return r.a.createElement(Je,{key:e._id,value:e._id},e.name)}),subOptions:n.map(function(e){return r.a.createElement(Je,{key:e._id,value:e._id},e.name)})}},a.ShowSubCategory=function(e){(a.props.location.state||{}).categoryId="",a.getCategorys(e)},a.submit=Object(j.a)(w.a.mark(function e(){var t,n,r,c,o,s,i,l,u,m,p,d;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.form.getFieldsValue(),n=t.name,r=t.desc,c=t.price,o=t.category1,(s=t.category2)&&"\u672a\u9009\u62e9"!==s?(i=o,l=s):(i="0",l=o),u=a.refs.editor.getContent(),m=a.refs.imgs.getImgs(),p={name:n,desc:r,price:c,pCategoryId:i,categoryId:l,detail:u,imgs:m},(d=a.props.location.state)&&(p._id=d._id),e.next=9,H(p);case 9:0===e.sent.status?(T.a.success("\u4fdd\u5b58\u5546\u54c1\u6210\u529f\u4e86"),a.props.history.replace("/product/index")):T.a.error("\u4fdd\u5b58\u5546\u54c1\u5931\u8d25\u4e86, \u8bf7\u91cd\u65b0\u5904\u7406");case 11:case"end":return e.stop()}},e,this)})),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.getCategorys("0");var e=this.props.location.state;e&&"0"!==e.pCategoryId&&this.getCategorys(e.pCategoryId)}},{key:"render",value:function(){var e=this,t=this.renderOptions(),a=t.options,n=t.subOptions,c=this.props.location.state||{},o=this.props.form.getFieldDecorator,s={labelCol:{span:2},wrapperCol:{span:12}},i="\u672a\u9009\u62e9",l="\u672a\u9009\u62e9";return"0"===c.pCategoryId?i=c.categoryId:c.pCategoryId&&(i=c.pCategoryId,l=c.categoryId||"\u672a\u9009\u62e9"),r.a.createElement("div",null,r.a.createElement("h2",null,r.a.createElement("a",{href:"javascript:",onClick:function(){return e.props.history.goBack()}},r.a.createElement(E.a,{type:"arrow-left"})),"\xa0\xa0",c._id?"\u7f16\u8f91\u5546\u54c1":"\u6dfb\u52a0\u5546\u54c1",r.a.createElement(k.a,null,r.a.createElement(Be,{label:"\u5546\u54c1\u540d\u79f0",labelCol:{span:2},wrapperCol:{span:12}},o("name",{initialValue:c.name})(r.a.createElement(b.a,{placeholder:"\u8bf7\u8f93\u5165\u5546\u54c1\u540d\u79f0"}))),r.a.createElement(Be,Object.assign({label:"\u5546\u54c1\u63cf\u8ff0"},s),o("desc",{initialValue:c.desc})(r.a.createElement(b.a,{placeholder:"\u8bf7\u8f93\u5165\u5546\u54c1\u63cf\u8ff0"}))),r.a.createElement(Be,Object.assign({label:"\u5546\u54c1\u4ef7\u683c"},s),o("price",{initialValue:c.price})(r.a.createElement(b.a,{placeholder:"\u8bf7\u8f93\u5165\u5546\u54c1\u4ef7\u683c",addonAfter:"\u5143"}))),r.a.createElement(Be,Object.assign({label:"\u5546\u54c1\u5206\u7c7b"},s),a.length>0?o("category1",{initialValue:i})(r.a.createElement(xe.a,{style:{width:200},onChange:function(t){return e.ShowSubCategory(t)}},a)):null,"\xa0\xa0\xa0",n.length>0?o("category2",{initialValue:l})(r.a.createElement(xe.a,{style:{width:200}},n)):null),r.a.createElement(Be,Object.assign({label:"\u5546\u54c1\u56fe\u7247"},s),r.a.createElement(Re,{ref:"imgs",imgs:c.imgs})),r.a.createElement(Be,{label:"\u5546\u54c1\u8be6\u60c5",labelCol:{span:2},wrapperCol:{span:20}},r.a.createElement(ze,{ref:"editor",detail:c.detail})),r.a.createElement(v.a,{type:"primary",onClick:this.submit},"\u63d0\u4ea4"))))}}]),t}(n.Component),Qe=k.a.create()(Ge),He=(a(870),a(112)),qe=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={cName1:"",cName2:""},a.getCategoryName=Object(j.a)(w.a.mark(function e(){var t,n,r,c,o,s,i,l,u,m;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.props.location.state,n=t.categoryId,"0"!==(r=t.pCategoryId)){e.next=9;break}return e.next=4,B(n);case 4:c=e.sent,o=c.data.name,a.setState({cName1:o}),e.next=17;break;case 9:return e.next=11,Promise.all([B(r),B(n)]);case 11:s=e.sent,i=s[0],l=s[1],u=i.data.name,m=l.data.name,a.setState({cName1:u,cName2:m});case 17:case"end":return e.stop()}},e,this)})),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.getCategoryName()}},{key:"render",value:function(){var e=this,t=this.props.location.state,a=t.name,n=t.desc,c=t.price,o=(t.categoryId,t.pCategoryId,t.imgs),s=t.detail,i=this.state,l=i.cName1,u=i.cName2;return r.a.createElement("div",{className:"product-detail"},r.a.createElement("h1",null,r.a.createElement(E.a,{type:"arrow-left",onClick:function(){return e.props.history.goBack()}}),"\xa0\xa0 \u5546\u54c1\u8be6\u60c5"),r.a.createElement(He.a,null,r.a.createElement(He.a.Item,null,r.a.createElement("span",{className:"left"},"\u5546\u54c1\u540d\u79f0:"),r.a.createElement("span",null,a)),r.a.createElement(He.a.Item,null,r.a.createElement("span",{className:"left"},"\u5546\u54c1\u63cf\u8ff0:"),r.a.createElement("span",null,n)),r.a.createElement(He.a.Item,null,r.a.createElement("span",{className:"left"},"\u5546\u54c1\u4ef7\u683c:"),r.a.createElement("span",null,c+"\u5143")),r.a.createElement(He.a.Item,null,r.a.createElement("span",{className:"left"},"\u6240\u5c5e\u5206\u7c7b:"),r.a.createElement("span",null,l+"--\x3e"+u)),r.a.createElement(He.a.Item,null,r.a.createElement("span",{className:"left"},"\u5546\u54c1\u56fe\u7247:"),r.a.createElement("span",null,o.map(function(e){return r.a.createElement("img",{src:"http://localhost:5000/upload/"+e,alt:"img",key:e,style:{width:150,height:150,marginRight:10}})}))),r.a.createElement(He.a.Item,null,r.a.createElement("span",{className:"left"},"\u5546\u54c1\u8be6\u60c5:"),r.a.createElement("div",{dangerouslySetInnerHTML:{__html:s}}))))}}]),t}(n.Component),Xe=(a(873),function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement(g.a,null,r.a.createElement(y.a,{path:"/product/index",component:Ue}),r.a.createElement(y.a,{path:"/product/addupdate",component:Qe}),r.a.createElement(y.a,{path:"/product/detail",component:qe}),r.a.createElement(C.a,{to:"/product/index"}))}}]),t}(n.Component)),Ye=k.a.Item,Ze=xe.a.Option,$e=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).state={isShow:!1,users:[],roles:[]},a.initColumns=function(){a.columns=[{title:"\u7528\u6237\u540d",dataIndex:"username"},{title:"\u90ae\u7bb1",dataIndex:"email"},{title:"\u7535\u8bdd",dataIndex:"phone"},{title:"\u6ce8\u518c\u65f6\u95f4",dataIndex:"create_time",render:be},{title:"\u6240\u5c5e\u89d2\u8272",dataIndex:"role_id",render:function(e){return a.roleNames[e]}},{title:"\u64cd\u4f5c",render:function(e){return r.a.createElement("span",null,r.a.createElement("a",{href:"javascript:;",onClick:function(){return a.showUpdate(e)}},"\u4fee\u6539"),"\xa0\xa0",r.a.createElement("a",{href:"javascript:;",onClick:function(){return a.clickDelete(e)}},"\u5220\u9664"))}}]},a.initRoleNames=function(e){a.roleNames=e.reduce(function(e,t){return e[t._id]=t.name,e},{})},a.clickDelete=function(e){ve.a.confirm({content:"\u786e\u5b9a\u5220\u9664".concat(e.username,"\u5417?"),onOk:function(){var t=Object(j.a)(w.a.mark(function t(){return w.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,W(e._id);case 2:0===t.sent.status&&a.getUsers();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()})},a.showUpdate=function(e){a.user=e,a.setState({isShow:!0})},a.getUsers=Object(j.a)(w.a.mark(function e(){var t,n,r,c;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D();case 2:0===(t=e.sent).status&&(n=t.data,r=n.users,c=n.roles,a.initRoleNames(c),a.setState({users:r,roles:c}));case 4:case"end":return e.stop()}},e,this)})),a.showAddUser=function(){a.user=null,a.setState({isShow:!0})},a.AddOrUpdateUser=Object(j.a)(w.a.mark(function e(){var t;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.form.getFieldsValue(),a.form.resetFields(),a.user&&(t._id=a.user._id),a.setState({isShow:!1}),e.next=6,V(t);case 6:0===e.sent.status&&a.getUsers();case 8:case"end":return e.stop()}},e,this)})),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentWillMount",value:function(){this.initColumns()}},{key:"componentDidMount",value:function(){this.getUsers()}},{key:"render",value:function(){var e=this,t=this.state,a=t.users,n=t.roles,c=t.isShow,o=this.user||{};return r.a.createElement("div",null,r.a.createElement(Se.a,null,r.a.createElement(v.a,{type:"primary",onClick:this.showAddUser},"\u521b\u5efa\u7528\u6237")),r.a.createElement(Ce.a,{columns:this.columns,rowKey:"_id",dataSource:a,bordered:!0,pagination:{defaultPageSize:10,showQuickJumper:!0}}),r.a.createElement(ve.a,{title:o._id?"\u4fee\u6539\u7528\u6237":"\u6dfb\u52a0\u7528\u6237",visible:c,onCancel:function(){return e.setState({isShow:!1})},onOk:this.AddOrUpdateUser},r.a.createElement(et,{setForm:function(t){return e.form=t},user:o,roles:n})))}}]),t}(n.Component),et=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentWillMount",value:function(){this.props.setForm(this.props.form)}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t={labelCol:{span:5},wrapperCol:{span:16}},a=this.props,n=a.user,c=a.roles;return r.a.createElement(k.a,null,r.a.createElement(Ye,Object.assign({label:"\u7528\u6237\u540d"},t),e("username",{initialValue:n.username})(r.a.createElement(b.a,{type:"text",placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u540d"}))),n._id?null:r.a.createElement(Ye,Object.assign({label:"\u5bc6\u7801"},t),e("password",{initialValue:""})(r.a.createElement(b.a,{type:"passowrd",placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801"}))),r.a.createElement(Ye,Object.assign({label:"\u624b\u673a\u53f7"},t),e("phone",{initialValue:n.phone})(r.a.createElement(b.a,{type:"phone",placeholder:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7"}))),r.a.createElement(Ye,Object.assign({label:"\u90ae\u7bb1"},t),e("email",{initialValue:n.email})(r.a.createElement(b.a,{type:"email",placeholder:"\u8bf7\u8f93\u5165\u90ae\u7bb1"}))),r.a.createElement(Ye,Object.assign({label:"\u89d2\u8272"},t),e("role_id",{initialValue:n.role_id})(r.a.createElement(xe.a,{style:{width:200}},c.map(function(e){return r.a.createElement(Ze,{key:e._id,value:e._id},e.name)})))))}}]),t}(n.Component);et=k.a.create()(et);var tt=a(500),at=(a(875),a(318)),nt=k.a.Item,rt=at.a.TreeNode,ct=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={isShowAdd:!1,isShowRoleAuth:!1,roles:[],role:{},menus:[]},a.getRoles=Object(j.a)(w.a.mark(function e(){var t,n;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y();case 2:0===(t=e.sent).status&&(n=t.data,a.setState({roles:n}));case 4:case"end":return e.stop()}},e,this)})),a.showAddRole=function(){a.setState({isShowAdd:!0})},a.showRoleAuth=function(){a.setState({isShowRoleAuth:!0})},a.initColumns=function(){a.columns=[{title:"\u89d2\u8272\u540d\u79f0",dataIndex:"name"},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"create_time",render:be},{title:"\u6388\u6743\u65f6\u95f4",dataIndex:"auth_time",render:be},{title:"\u6388\u6743\u4eba",dataIndex:"auth_name"}]},a.updateRole=Object(j.a)(w.a.mark(function e(){var t,n,r;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({isShowRoleAuth:!1}),t=a.state,n=t.role,r=t.menus,n.menus=r,e.next=5,Z(n);case 5:0===e.sent.status&&(Ee.user.role_id===n._id?(l.removeUser(),Ee.user={},a.props.history.replace("/login"),T.a.info("\u5f53\u524d\u7528\u6237\u7684\u6743\u9650\u66f4\u65b0\u4e86, \u8bf7\u91cd\u65b0\u767b\u9646")):(T.a.success("\u6388\u6743\u6210\u529f"),a.getRoles()));case 7:case"end":return e.stop()}},e,this)})),a.addRole=Object(j.a)(w.a.mark(function e(){var t,n,r,c;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.form.getFieldValue("roleName"),a.form.resetFields(),a.setState({isShowAdd:!1}),e.next=5,X(t);case 5:0===(n=e.sent).status&&(T.a.success("\u6dfb\u52a0\u89d2\u8272\u6210\u529f"),r=n.data,(c=Object(tt.a)(a.state.roles)).push(r),a.setState({roles:c}));case 7:case"end":return e.stop()}},e,this)})),a.onRow=function(e){return{onClick:function(t){a.setState({role:e,menus:e.menus})}}},a.setRoleMenus=function(e){a.setState({menus:e})},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentWillMount",value:function(){this.initColumns()}},{key:"componentDidMount",value:function(){this.getRoles()}},{key:"render",value:function(){var e=this;console.log("render()");var t=this.state,a=t.roles,n=t.role,c=t.menus,o=t.isShowAdd,s=t.isShowRoleAuth,i={type:"radio",selectedRowKeys:[n._id],onChange:function(t,a){console.log("onChange()",t,a),e.setState({role:a[0]})}};return r.a.createElement("div",null,r.a.createElement(Se.a,null,r.a.createElement(v.a,{type:"primary",onClick:this.showAddRole},"\u521b\u5efa\u89d2\u8272"),"\xa0\xa0",r.a.createElement(v.a,{type:"primary",onClick:this.showRoleAuth,disabled:!n._id},"\u8bbe\u7f6e\u89d2\u8272\u6743\u9650"),"\xa0\xa0"),r.a.createElement(Ce.a,{columns:this.columns,rowKey:"_id",dataSource:a,bordered:!0,rowSelection:i,onRow:this.onRow,pagination:{defaultPageSize:100,showQuickJumper:!0}}),r.a.createElement(ve.a,{title:"\u521b\u5efa\u89d2\u8272",visible:o,onCancel:function(){e.setState({isShowAdd:!1})},onOk:this.addRole},r.a.createElement(ot,{setForm:function(t){return e.form=t}})),r.a.createElement(ve.a,{title:"\u8bbe\u7f6e\u89d2\u8272\u6743\u9650",visible:s,onCancel:function(){return e.setState({isShowRoleAuth:!1,menus:n.menus})},onOk:this.updateRole},r.a.createElement(st,{roleName:n.name,menus:c,setRoleMenus:this.setRoleMenus})))}}]),t}(n.Component),ot=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentWillMount",value:function(){this.props.setForm(this.props.form)}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return r.a.createElement(k.a,null,r.a.createElement(nt,Object.assign({label:"\u89d2\u8272\u540d\u79f0"},{labelCol:{span:5},wrapperCol:{span:16}}),e("roleName",{initialValue:""})(r.a.createElement(b.a,{type:"text",placeholder:"\u8bf7\u8f93\u5165\u89d2\u8272\u540d\u79f0"}))))}}]),t}(n.PureComponent);ot=k.a.create()(ot);var st=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).onCheck=function(e,t){console.log("onCheck",e,t),a.props.setRoleMenus(e)},a.renderTreeNodes=function(e){return e.reduce(function(e,t){var n=r.a.createElement(rt,{title:t.title,key:t.key},t.children?a.renderTreeNodes(t.children):null);return e.push(n),e},[])},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props,t=e.roleName,a=e.menus;return r.a.createElement(k.a,null,r.a.createElement(nt,Object.assign({label:"\u89d2\u8272\u540d\u79f0\uff1a"},{labelCol:{span:5},wrapperCol:{span:16}}),r.a.createElement(b.a,{value:t,disabled:!0})),r.a.createElement(at.a,{checkable:!0,defaultExpandAll:!0,onCheck:this.onCheck,checkedKeys:a},r.a.createElement(rt,{title:"\u5e73\u53f0\u6743\u9650",key:"all"},this.renderTreeNodes(de))))}}]),t}(n.PureComponent),it=a(109),lt=a.n(it),ut=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={sales:[5,20,36,10,10,20],inventorys:[15,30,46,20,20,40]},a.getOption=function(){var e=a.state;return{title:{text:"ECharts \u5165\u95e8\u793a\u4f8b"},tooltip:{},legend:{data:["\u9500\u91cf","\u5e93\u5b58"]},xAxis:{data:["\u886c\u886b","\u7f8a\u6bdb\u886b","\u96ea\u7eba\u886b","\u88e4\u5b50","\u9ad8\u8ddf\u978b","\u889c\u5b50"]},yAxis:{},series:[{name:"\u9500\u91cf",type:"bar",data:e.sales},{name:"\u5e93\u5b58",type:"bar",data:e.inventorys}]}},a.update=function(){var e=a.state.sales.map(function(e){return e+1}),t=a.state.inventorys.map(function(e){return e-1});a.setState({sales:e,inventorys:t})},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(Se.a,null,r.a.createElement(v.a,{type:"primary",onClick:this.update},"\u66f4\u65b0")),r.a.createElement(Se.a,{title:"\u67f1\u72b6\u56fe\u4e00"},r.a.createElement(lt.a,{option:this.getOption(),style:{height:300}})))}}]),t}(n.Component),mt=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={sales:[5,20,36,10,10,20],inventorys:[15,30,46,20,20,40]},a.getOption=function(){var e=a.state;return{title:{text:"ECharts \u5165\u95e8\u793a\u4f8b"},tooltip:{},legend:{data:["\u9500\u91cf","\u5e93\u5b58"]},xAxis:{data:["\u886c\u886b","\u7f8a\u6bdb\u886b","\u96ea\u7eba\u886b","\u88e4\u5b50","\u9ad8\u8ddf\u978b","\u889c\u5b50"]},yAxis:{},series:[{name:"\u9500\u91cf",type:"line",data:e.sales},{name:"\u5e93\u5b58",type:"line",data:e.inventorys}]}},a.getOption2=function(){return{xAxis:{type:"category",boundaryGap:!1,data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]},yAxis:{type:"value"},series:[{data:[820,932,901,934,1290,1330,1320],type:"line",areaStyle:{}}]}},a.update=function(){var e=a.state.sales.map(function(e){return e+1}),t=a.state.inventorys.map(function(e){return e-1});a.setState({sales:e,inventorys:t})},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(Se.a,null,r.a.createElement(v.a,{type:"primary",onClick:this.update},"\u66f4\u65b0")),r.a.createElement(Se.a,{title:"\u6298\u7ebf\u56fe\u4e00"},r.a.createElement(lt.a,{option:this.getOption(),style:{height:300}})),r.a.createElement(Se.a,{title:"\u6298\u7ebf\u56fe\u4e8c"},r.a.createElement(lt.a,{option:this.getOption2(),style:{height:300}})))}}]),t}(n.Component),pt=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).getOption=function(){return{title:{text:"\u67d0\u7ad9\u70b9\u7528\u6237\u8bbf\u95ee\u6765\u6e90",subtext:"\u7eaf\u5c5e\u865a\u6784",x:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"vertical",left:"left",data:["\u76f4\u63a5\u8bbf\u95ee","\u90ae\u4ef6\u8425\u9500","\u8054\u76df\u5e7f\u544a","\u89c6\u9891\u5e7f\u544a","\u641c\u7d22\u5f15\u64ce"]},series:[{name:"\u8bbf\u95ee\u6765\u6e90",type:"pie",radius:"55%",center:["50%","60%"],data:[{value:335,name:"\u76f4\u63a5\u8bbf\u95ee"},{value:310,name:"\u90ae\u4ef6\u8425\u9500"},{value:234,name:"\u8054\u76df\u5e7f\u544a"},{value:135,name:"\u89c6\u9891\u5e7f\u544a"},{value:1548,name:"\u641c\u7d22\u5f15\u64ce"}],itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}},a.getOption2=function(){return{backgroundColor:"#2c343c",title:{text:"Customized Pie",left:"center",top:20,textStyle:{color:"#ccc"}},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},visualMap:{show:!1,min:80,max:600,inRange:{colorLightness:[0,1]}},series:[{name:"\u8bbf\u95ee\u6765\u6e90",type:"pie",radius:"55%",center:["50%","50%"],data:[{value:335,name:"\u76f4\u63a5\u8bbf\u95ee"},{value:310,name:"\u90ae\u4ef6\u8425\u9500"},{value:274,name:"\u8054\u76df\u5e7f\u544a"},{value:235,name:"\u89c6\u9891\u5e7f\u544a"},{value:400,name:"\u641c\u7d22\u5f15\u64ce"}].sort(function(e,t){return e.value-t.value}),roseType:"radius",label:{normal:{textStyle:{color:"rgba(255, 255, 255, 0.3)"}}},labelLine:{normal:{lineStyle:{color:"rgba(255, 255, 255, 0.3)"},smooth:.2,length:10,length2:20}},itemStyle:{normal:{color:"#c23531",shadowBlur:200,shadowColor:"rgba(0, 0, 0, 0.5)"}},animationType:"scale",animationEasing:"elasticOut",animationDelay:function(e){return 200*Math.random()}}]}},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(Se.a,{title:"\u997c\u56fe\u4e00"},r.a.createElement(lt.a,{option:this.getOption(),style:{height:300}})),r.a.createElement(Se.a,{title:"\u997c\u56fe\u4e8c"},r.a.createElement(lt.a,{option:this.getOption2(),style:{height:300}})))}}]),t}(n.Component),dt=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,"Order")}}]),t}(n.Component),ht=(a(1184),function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return this.props.user._id?r.a.createElement(ie.a,{className:"container"},r.a.createElement(le.a,{span:4},r.a.createElement(ye,null)),r.a.createElement(le.a,{span:20,className:"main"},r.a.createElement(we,null),r.a.createElement("div",{className:"content"},r.a.createElement(g.a,null,r.a.createElement(y.a,{path:"/home",component:ke}),r.a.createElement(y.a,{path:"/category",component:_e}),r.a.createElement(y.a,{path:"/product",component:Xe}),r.a.createElement(y.a,{path:"/user",component:$e}),r.a.createElement(y.a,{path:"/role",component:ct}),r.a.createElement(y.a,{path:"/order",component:dt}),r.a.createElement(y.a,{path:"/charts/bar",component:ut}),r.a.createElement(y.a,{path:"/charts/line",component:mt}),r.a.createElement(y.a,{path:"/charts/pie",component:pt}),r.a.createElement(C.a,{to:"/home"}))),r.a.createElement(je,null))):r.a.createElement(C.a,{to:"/login"})}}]),t}(n.Component)),ft=Object(o.b)(function(e){return{user:e.user}},{})(ht),gt=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement(f.a,null,r.a.createElement(g.a,null,r.a.createElement(y.a,{path:"/login",component:oe}),r.a.createElement(y.a,{path:"/",component:ft})))}}]),t}(r.a.Component),yt=a(107),vt=a(497),bt=a(498),Et="";var Ot=l.getUser()||{};var wt=Object(yt.combineReducers)({menuTitle:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return t.data;default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ot,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return t.data;case N:return{msg:t.data};case I:return{};default:return e}}}),jt=Object(yt.createStore)(wt,Object(bt.composeWithDevTools)(Object(yt.applyMiddleware)(vt.a)));Object(c.render)(r.a.createElement(o.a,{store:jt},r.a.createElement(gt,null)),document.getElementById("root"))},223:function(e,t,a){e.exports=a.p+"static/media/logo.ba1f87ec.png"},502:function(e,t,a){e.exports=a(1186)},595:function(e,t,a){},656:function(e,t,a){},668:function(e,t,a){},670:function(e,t,a){},672:function(e,t,a){},873:function(e,t,a){}},[[502,2,1]]]);
//# sourceMappingURL=main.d3682fa9.chunk.js.map